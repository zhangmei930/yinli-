<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>登录</title>
		<link rel="stylesheet" type="text/css" href="../font/iconfont.css"/>
	    <link rel="stylesheet" type="text/css" href="../css/login.css"/>
	    <link rel="stylesheet" type="text/css" href="../lib/bootstrap/css/bootstrap.min.css"/>
	    <script src="../js/login.js" type="text/javascript" charset="utf-8"></script>
	</head>
	<body>
		<!--导航-->
	    <div class="nav">
		    <p>送至：<span>四川成都市</span></p>
		    <ul>
		  	    <li><a href="#">登录</a></li>
		        <li><a href="#">我的订单</a></li>
		  	    <li>
		  		    <a href="#">银犁APP</a>
		  		    <div class="contact">
		  		    	<div>
		  			        <img src="../images/Android.png"/>
		  			        <span>Android下载</span>
		  		        </div>
		  		        <div>
		  		    	    <img src="../images/iOS.png"/>
		  		    	    <span>ios敬请期待</span>
		  		         </div>
		  		    </div>  
		  	    </li>
		  	    <li>
		  	    	<a href="#">客服</a>
		  	    	<p>400-1111-028</p>
		  	    </li>
		  </ul>
	    </div>
	    <!--标志-->
	    <div class="logoList">
	    	<h1>
		    	<a href=""><img src="../images/PC-LOGO.png"/></a>
		    </h1>
	    </div>
	    <!--登录-->
	    <div class="logins">
	    	<div class="panel">	
	    		<div class="loginer">
	    			<div class="loginList">
	    				<div class="telLogin">
	    					<a href="" class="one active">手机密码登录 </a>
	    				</div>
	    				<div class="passwodLogin">
	    					<div class="username">
		    					<div><i class="iconfont icon-yonghu"></i></div>
			    				<input type="text" id="username" placeholder="请输入手机号码">
			    			</div>
			    			<div class="pawd">
			    				<div><i class="iconfont icon-mima"></i></div>
				    			<input type="password" id="password" placeholder="请输入密码">
			    			</div>
							<button id="btnLogin">登录</button>
	    				</div>
	    			</div>
	    			<div class="register">
	    				<a href="register.html">立刻注册</a>
	    				<i class="iconfont icon-xiayiye"></i>
	    			</div>
	    		</div>
	    	</div>
	    </div>
	    <!--尾部-->
	    <div class="context">
	    	<p><a href="">关于我们</a> | <a href="">联系我们</a></p>
	    	<p>Copyright &copy; 2017-2030银犁食品&nbsp;(ylfood.com) All rights reserved.&nbsp;&nbsp;蜀ICP备：11006129号-3 网站统计 站长统计</p>
	    </div>
	    
	    <script type="text/javascript">
			function on(element, type, callback) {
				if (element.addEventListener) { 
					if (type.indexOf("on") === 0) 
						type = type.slice(2);
					element.addEventListener(type, callback);
				} else {
					if (type.indexOf("on") !== 0)
						type = "on" + type;
					element.attachEvent(type, callback);
				}
			}
			function $(selector, context) {
				context = context || document;
				if (selector.indexOf("#") === 0) 
					return document.getElementById(selector.slice(1));
				if (selector.indexOf(".") === 0)
					return getByClassName(selector.slice(1), context);
				return context.getElementsByTagName(selector);
			}
			function getByClassName(className, context) {
				context = context || document;
				if (context.getElementsByClassName)
					return context.getElementsByClassName(className);
				var result = [];
				var elements = $("*", context);
				for (var i = 0, len = elements.length; i < len; i++) {
					var classNames = elements[i].className.split(" ");
					if (inArray(className, classNames) !== -1)
						result.push(elements[i]);
				}
				return result;
			}
			function inArray(value, array) {
				if (Array.prototype.indexOf)
					return array.indexOf(value);
				for (var i = 0, len = array.length; i < len; i++) {
					if (array[i] === value)
						return i;
				}
				return -1;
			}
			function setCookie(key, value, options) {
				var cookie = encodeURIComponent(key) + "=" + encodeURIComponent(value); // "key=value"
			
				options = options || {};
				if (options.expires) { 
					var date = new Date();
					date.setDate(date.getDate() + options.expires);
					cookie += ";expires=" + date.toUTCString();
				}
				if (options.path) { 
					cookie += ";path=" + options.path;
				}
				if (options.domain) {
					cookie += ";domain=" + options.domain;
				}
				if (options.secure) {
					cookie += ";secure";
				}
				document.cookie = cookie;
			}
			function ckTel() {
				var reg = new RegExp("^\\w{6,14}$");
				return reg.test($("#tel").value);
			}
			function ckPassword() {
				var reg = /^.{6,}/;
				return reg.test($("#password").value);
			}
			window.onload=function(){
				var count = 0,
					str = "";
				while (count < 4){
					var rand = Math.floor(Math.random() * 75) + 48;
					if (rand >= 48 && rand <= 57
						|| rand >= 65 && rand <= 90
						|| rand >= 97 && rand <= 122) {
						count++;
						str += String.fromCharCode(rand);
					}
				}
				$("#ucap").innerHTML=str;
			}
			$("#btn").onclick=function(e){
				console.log("aaaa");
				if($("#cap").value !== $("#ucap").innerHTML){
					e.preventDefault();
					$("#yanzheng-info").style.display="block";
					$("#yanzheng-info-choose").innerHTML="验证码错误";
				}
				else if(!ckPassword() || !ckTel()){
					e.preventDefault();
					$("#yanzheng-info").style.display="block";
					$("#yanzheng-info-choose").innerHTML="用户名或密码错误";
				}else{
					var  _tel= $("#tel").value;
					setCookie("loginUser", _tel, {expires:1});
					location="http://127.0.0.1:8080/index.html";
				}
			};
		</script>
	</body>
</html>
